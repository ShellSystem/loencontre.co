language: php

php:
  - 5.6

before_script:
  - php SourceBackend/laravel/artisan key:generate # Porque genera error con un Key
  - mysql -e 'create database goodfirm_entregas;'
  - mysql goodfirm_entregas < goodfirm_entregas.sql
  - mysql -e "CREATE USER 'goodfirm_usuario'@'localhost' IDENTIFIED BY ',eE_qW$Sh5KR';"
  - mysql -e "GRANT ALL PRIVILEGES ON * . * TO 'newuser'@'localhost';"
  - mysql -e "FLUSH PRIVILEGES;""

script:
- SourceBackend/laravel/vendor/bin/phpunit SourceBackend/laravel/tests/UnitTest
- SourceBackend/laravel/vendor/bin/phpunit SourceBackend/laravel/tests/IntegrationTest